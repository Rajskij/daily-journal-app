<!DOCTYPE html>
<html lang="en">
<%- include('./partial/head.ejs', { pageName : 'About'}) %>
    <body>
        <%- include('./partial/nav.ejs', { page: 'users'})%>
        <div id="container" class="container mt-4">
            <h3>Create User</h3>
            <hr>
            <form action="/users" method="POST">
                <div class="form-row">
                    <div class="form-group col-md-4">
                        <label for="name"><h5>Name</h5></label>
                        <input name="name" class="form-control" id="name" rows="3" placeholder="Enter user name" autocomplete="name"></textarea>
                    </div>
                    <div class="form-group col-md-4">
                        <label for="email"><h5>Email</h5></label>
                        <input type="email" name="email" class="form-control" id="email" rows="3"  placeholder="Enter user email" autocomplete="email"></textarea>
                    </div>
                </div>
                <button type="submit" class="btn btn-secondary">Create</button>
            </form>
            <h3 class="mt-5">Users</h3>
            <div class="table-responsive">
                <table class="table table-hover">
                    <thead class="table">
                        <tr>
                            <th>Id</th>
                            <th>Name</th>
                            <th>Email</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        <% users.forEach(user => { %>
                            <tr>
                                <td><%= user.id %></td>
                                <td><%= user.name %></td>
                                <td><%= user.email %></td>
                                <td class="col-md-2">
                                    <button class="btn btn-sm delete-btn" name="users" data-id="<%= user.id %>">
                                        <i class="bi bi-trash"></i> DELETE
                                    </button>
                                </td>
                            </tr>
                        <% }) %> 
                    </tbody>
                </table>
            </div>
        </div>
        <script src="/handler/deleteHandler.js"></script>
    </body>
</html>